!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("vueInfiniteScroller",[],e):"object"==typeof exports?exports.vueInfiniteScroller=e():t.vueInfiniteScroller=e()}(window,function(){return r={},o.m=n=[function(t,e,n){var r=n(2);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,n(5).default)("dd5a8a8a",r,!0,{})},function(t,e,n){"use strict";var r=n(0);n.n(r).a},function(t,e,n){(e=n(3)(!1)).push([t.i,"\n.scroller {\n  -webkit-overflow-scrolling: touch;\n  position: absolute;\n  overflow-y: auto;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  top: 0;\n}\n.scroller .scroll-box {\n  width: 100%;\n}\n.refresh, .loader {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  line-height: 3.5rem;\n  color: #666;\n}\n.refresh {\n  position: absolute;\n  width: 100%;\n}\n.scroller svg {\n  will-change: transform;\n  margin-right: .5rem;\n  height: 1rem;\n  width: 1rem;\n  fill: #666;\n}\n.refresh svg.icon-arrow {\n  transform: rotate(180deg);\n  transition: .2s;\n}\n",""]),t.exports=e},function(t,e,n){"use strict";t.exports=function(n){var o=[];return o.toString=function(){return this.map(function(t){var e=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=function(t){var e=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),n="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(e);return"/*# ".concat(n," */")}(r),i=r.sources.map(function(t){return"/*# sourceURL=".concat(r.sourceRoot).concat(t," */")});return[n].concat(i).concat([o]).join("\n")}return[n].join("\n")}(t,n);return t[2]?"@media ".concat(t[2]," {").concat(e,"}"):e}).join("")},o.i=function(t,e){"string"==typeof t&&(t=[[null,t,""]]);for(var n=0;n<t.length;n++){var r=[].concat(t[n]);e&&(r[2]?r[2]="".concat(e," and ").concat(r[2]):r[2]=e),o.push(r)}},o}},function(t,e,n){"use strict";n.r(e);var r,o,i,s,a,l,c,f;function u(){var t=Date.now()-c;t<o&&0<=t?s=setTimeout(u,o-t):(s=null,i||(f=r.apply(l,a),s||(l=a=null)))}var d={props:{onInfinite:Function,onRefresh:Function,endText:{type:String,default:"没有更多数据了"}},data:function(){return{loading:1,refreshable:!1,refreshText:"下拉刷新",triggerDistance:70,topBlockHeight:50,parentnode:!1,startScrollTop:0,startY:0,beforeDiff:0,diff:0,distance:0,state:""}},mounted:function(){this.scroll(),this.refreshable=!!this.onRefresh,this.refreshable&&(this.$refs.box.addEventListener("touchstart",this.touchstart),this.$refs.box.addEventListener("touchmove",this.touchmove),this.$refs.box.addEventListener("touchend",this.touchend))},methods:{scroll:(r=function(){if(this.onInfinite&&1===this.loading){var t=this.$refs.scroller,e=this.$refs.loader;t.clientHeight>e.offsetTop?(console.log("if"),this.loading=2,this.onInfinite(this.finishInfinite),this.scroll()):(console.log("else"),t.scrollTop+t.clientHeight-e.clientHeight>e.offsetTop-50&&(console.log("else if"),this.loading=2,this.onInfinite(this.finishInfinite)))}},o=400,function(){l=this,a=arguments,c=Date.now();var t=i&&!s;return s=s||setTimeout(u,o),t&&(f=r.apply(l,a),l=a=null),f}),finishInfinite:function(t){var e=1;switch(t){case"end":e=0;break;case"err":e=3;break;default:e=1}this.loading=e},scrollTo:function(t,e){var n=this,r=1<arguments.length&&void 0!==e?e:200;this.$refs.box.style.transition="".concat(r,"ms"),this.diff=t,setTimeout(function(){n.$refs.box.style.transition=""},r)},findParent:function(t){-1<t.className.indexOf("no_scroll")?this.parentnode=!0:(this.parentnode=!1,"body"!=t.parentNode.nodeName.toLowerCase()&&this.findParent(t.parentNode))},touchstart:function(t){this.startY=t.touches[0].clientY,this.beforeDiff=this.diff,this.startScrollTop=this.$refs.scroller.scrollTop,this.state="pull",this.refreshText="下拉刷新",this.refreshable=!1},touchmove:function(t){this.findParent(t.target),this.parentnode||(this.currentY=t.touches[0].clientY,this.distance=(this.currentY-this.startY)/2+this.beforeDiff,this.startScrollTop<2&&0<this.distance&&(this.refreshable=!0,t.preventDefault(),t.stopPropagation(),this.diff=this.distance,this.distance>this.triggerDistance?(this.state="trigger",this.refreshText="放手刷新"):(this.state="pull",this.refreshText="下拉刷新")))},touchend:function(){var e=this;this.refreshable&&(this.diff<this.triggerDistance?this.scrollTo(0):(this.state="loading",this.scrollTo(this.topBlockHeight),this.onRefresh(function(t){e.refreshText="加载完成",e.state="finish",setTimeout(function(){e.scrollTo(0),e.$refs.scroller.scrollTop=0,e.finishInfinite(t),1==e.loading&&e.scroll()},400)}),this.refreshText="加载中..."))}},computed:{icon:function(){switch(this.state){case"loading":case"finish":return"#icon-"+this.state}return"#icon-pull"}}};n(1);var h=function(t,e,n,r,o,i,s,a){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),s?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},c._ssrRegister=l):o&&(l=a?function(){o.call(this,this.$root.$options.shadowRoot)}:o),l)if(c.functional){c._injectStyles=l;var f=c.render;c.render=function(t,e){return l.call(e),f(t,e)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:t,options:c}}(d,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"scroller",staticClass:"scroller",on:{scroll:e.scroll}},[n("svg",{staticStyle:{display:"none"}},[n("symbol",{attrs:{id:"icon-finish",viewBox:"0 0 1024 1024"}},[n("path",{attrs:{d:"M980.293 311.85c-25.697-60.751-62.485-115.314-109.345-162.17-46.858-46.865-101.425-83.653-162.173-109.342-62.89-26.606-129.708-40.094-198.587-40.094-68.881 0-135.697 13.488-198.585 40.093-60.753 25.695-115.316 62.482-162.178 109.342-46.86 46.858-83.642 101.421-109.345 162.17-26.599 62.893-40.082 129.706-40.082 198.588 0 68.879 13.483 135.694 40.082 198.588 25.703 60.747 62.485 115.308 109.349 162.171 46.858 46.86 101.421 83.644 162.173 109.347 62.893 26.596 129.703 40.084 198.585 40.084 68.883 0 135.697-13.485 198.588-40.084 60.747-25.703 115.316-62.485 162.173-109.347 46.86-46.863 83.647-101.421 109.345-162.171 26.596-62.893 40.084-129.709 40.084-198.588-0.001-68.88-13.486-135.694-40.085-198.587zM916.764 682.151c-22.221 52.533-54.044 99.723-94.586 140.273-40.545 40.545-87.742 72.369-140.275 94.586-54.338 22.986-112.115 34.639-171.713 34.639-59.601 0-117.379-11.653-171.715-34.639-52.533-22.218-99.723-54.039-140.275-94.589-40.545-40.538-72.364-87.737-94.583-140.27-22.988-54.343-34.639-112.115-34.639-171.713 0-59.601 11.651-117.374 34.634-171.715 22.225-52.537 54.046-99.728 94.589-140.273 40.553-40.547 87.742-72.375 140.275-94.586 54.343-22.986 112.115-34.636 171.715-34.636 59.598 0 117.37 11.651 171.713 34.636 52.533 22.213 99.723 54.039 140.275 94.583 40.545 40.553 72.367 87.739 94.586 140.27 22.986 54.348 34.639 112.121 34.639 171.722 0 59.598-11.654 117.37-34.64 171.713zM749.188 378.978c-9.597 0-18.618 3.733-25.426 10.543l-261.919 260.34-164.428-164.653c-6.791-6.791-15.814-10.527-25.413-10.527-9.597 0-18.612 3.735-25.391 10.527-14.009 14.002-14.009 36.798-0.044 50.769 19.331 19.143 38.675 38.277 57.985 57.453 31.71 31.475 63.614 62.761 95.277 94.283 5.942 5.907 11.862 11.826 17.87 17.658 13.483 13.090 25.054 33.082 46.364 32.429 14.87-0.454 26.158-10.765 35.459-21.331 10.662-12.11 21.049-24.035 32.475-35.485 21.988-22.034 44.097-43.954 66.085-65.984 25.941-25.993 51.846-52.034 77.806-78.002 21.828-21.83 43.68-43.643 65.482-65.501 10.549-10.58 21.030-21.241 31.659-31.744 0.166-0.166 0.347-0.325 0.515-0.494 6.914-6.919 10.841-15.844 11.044-25.132 0.204-9.23-3.348-17.978-10.004-24.634-6.78-6.785-15.802-10.516-25.393-10.516z"}})]),e._v(" "),n("symbol",{attrs:{id:"icon-loading",viewBox:"0 0 64 64"}},[n("path",{attrs:{"fill-rule":"evenodd",d:"M60 36h-8c-2.203 0-4-1.797-4-4 0-2.208 1.797-4 4-4h8c2.203 0 4 1.792 4 4 0 2.203-1.797 4-4 4zM48.973 20.686a4 4 0 0 1-5.66 0 3.995 3.995 0 0 1 0-5.655l5.66-5.653a3.99 3.99 0 0 1 5.65 0 4 4 0 0 1 0 5.655l-5.65 5.656zM32 64a4 4 0 0 1-4-4v-8a4 4 0 0 1 4-4c2.203 0 4 1.797 4 4v8c0 2.203-1.797 4-4 4zm0-48a4 4 0 0 1-4-4V4a4 4 0 1 1 8 0v8c0 2.208-1.797 4-4 4zM15.03 54.624a3.995 3.995 0 0 1-5.654 0 3.99 3.99 0 0 1 0-5.65l5.655-5.66a3.995 3.995 0 0 1 5.657 0 4.004 4.004 0 0 1 0 5.66l-5.655 5.65zm0-33.938L9.373 15.03a3.995 3.995 0 0 1 0-5.654 4 4 0 0 1 5.654 0l5.655 5.655a3.995 3.995 0 0 1 0 5.657 3.99 3.99 0 0 1-5.65 0zM16 32a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4 4 4 0 0 1 4-4h8a4 4 0 0 1 4 4zm32.973 11.314l5.65 5.66a3.99 3.99 0 0 1 0 5.65 3.992 3.992 0 0 1-5.65 0l-5.66-5.65a4 4 0 0 1 0-5.66 4 4 0 0 1 5.66 0z"}},[n("animateTransform",{attrs:{attributeName:"transform",begin:"0s",dur:"1.2s",type:"rotate",from:"0 32 32",to:"360 32 32",repeatCount:"indefinite"}})],1)]),e._v(" "),n("symbol",{attrs:{id:"icon-pull",viewBox:"0 0 1024 1024"}},[n("path",{attrs:{d:"M793.036 736.931l-248.058 248.058c-4.425 5.631-10.156 10.054-16.992 12.567-0.502 0.1-0.803 0.202-1.106 0.202-4.022 1.809-8.446 2.411-12.87 2.614-0.602 0-1.307 0.502-1.909 0.502-1.206 0-2.213-0.803-3.419-0.803-2.614-0.202-5.228-0.803-7.844-1.71-3.116-0.803-5.934-2.113-8.746-3.518-1.71-0.906-3.317-2.114-4.928-3.317-1.409-1.106-3.219-1.609-4.525-3.116l-251.575-251.475c-16.287-16.19-16.287-42.531 0-58.522 16.090-16.19 42.433-16.19 58.722 0l180.99 180.887v-403.406c0-23.127 18.803-42.131 41.929-42.131s41.929 18.905 41.929 42.131v402.098l179.783-179.581c15.987-16.191 42.433-16.19 58.621 0 16.090 15.987 16.090 42.331 0 58.522zM512.402 302.354c-23.127 0-41.929-18.803-41.929-41.929 0-23.026 18.703-41.828 41.929-41.828 23.227 0 41.929 18.803 41.929 41.828 0.1 23.227-18.703 41.929-41.929 41.929zM512.402 106.885c-23.127 0-41.929-18.703-41.929-41.929 0-23.026 18.703-41.828 41.929-41.828 23.227 0 41.929 18.803 41.929 41.828 0.1 23.227-18.703 41.929-41.929 41.929z"}})])]),e._v(" "),n("div",{ref:"box",staticClass:"scroll-box",style:e.diff?{transform:"translateY("+e.diff+"px)"}:""},[e.refreshable?n("div",{staticClass:"refresh",style:{height:e.topBlockHeight+"px",top:"-"+e.topBlockHeight+"px"}},[n("svg",{staticClass:"icon",class:{"icon-arrow":"trigger"==e.state,"icon-loading":"loading"==e.state}},[n("use",{attrs:{"xlink:href":e.icon}})]),e._v("\n      "+e._s(e.refreshText)+"\n    ")]):e._e(),e._v(" "),n("div",{staticClass:"scroll-container"},[e._t("default")],2),e._v(" "),e.onInfinite?n("div",{ref:"loader",staticClass:"loader"},[0===e.loading?[e._v(e._s(e.endText))]:3===e.loading?n("p",{on:{click:function(t){(e.loading=1)&&e.scroll()}}},[e._v("加载失败，点击重试")]):[n("svg",[n("use",{attrs:{"xlink:href":"#icon-loading"}})]),e._v("\n        加载中...\n      ")]],2):e._e()])])},[],!1,null,null,null).exports;function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var v={install:function t(e){t.installed||(t.installed=!0,e.component("infiniteScroller",h))},Scroller:h};void 0!==("undefined"==typeof window?"undefined":p(window))&&window.Vue&&window.Vue.use(v)},function(t,e,n){"use strict";function l(t,e){for(var n=[],r={},o=0;o<e.length;o++){var i=e[o],s=i[0],a={id:t+":"+o,css:i[1],media:i[2],sourceMap:i[3]};r[s]?r[s].parts.push(a):n.push(r[s]={id:s,parts:[a]})}return n}n.r(e),n.d(e,"default",function(){return p});var r="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var c={},o=r&&(document.head||document.getElementsByTagName("head")[0]),i=null,s=0,f=!1,a=function(){},u=null,d="data-vue-ssr-id",h="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(s,t,e,n){f=e,u=n||{};var a=l(s,t);return v(a),function(t){for(var e=[],n=0;n<a.length;n++){var r=a[n];(o=c[r.id]).refs--,e.push(o)}t?v(a=l(s,t)):a=[];for(n=0;n<e.length;n++){var o;if(0===(o=e[n]).refs){for(var i=0;i<o.parts.length;i++)o.parts[i]();delete c[o.id]}}}}function v(t){for(var e=0;e<t.length;e++){var n=t[e],r=c[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(m(n.parts[o]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{var i=[];for(o=0;o<n.parts.length;o++)i.push(m(n.parts[o]));c[n.id]={id:n.id,refs:1,parts:i}}}}function g(){var t=document.createElement("style");return t.type="text/css",o.appendChild(t),t}function m(e){var n,r,t=document.querySelector("style["+d+'~="'+e.id+'"]');if(t){if(f)return a;t.parentNode.removeChild(t)}if(h){var o=s++;t=i=i||g(),n=x.bind(null,t,o,!1),r=x.bind(null,t,o,!0)}else t=g(),n=function(t,e){var n=e.css,r=e.media,o=e.sourceMap;r&&t.setAttribute("media",r);u.ssrId&&t.setAttribute(d,e.id);o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,t),r=function(){t.parentNode.removeChild(t)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else r()}}var b,y=(b=[],function(t,e){return b[t]=e,b.filter(Boolean).join("\n")});function x(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=y(e,o);else{var i=document.createTextNode(o),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(i,s[e]):t.appendChild(i)}}}],o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=4);function o(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}var n,r});
//# sourceMappingURL=vue-infinite-scroller.min.js.map