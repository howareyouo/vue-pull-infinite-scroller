!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("vueInfiniteScroller",[],e):"object"==typeof exports?exports.vueInfiniteScroller=e():t.vueInfiniteScroller=e()}(window,(function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4)}([function(t,e,n){var o=n(2);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,n(5).default)("dd5a8a8a",o,!0,{})},function(t,e,n){"use strict";var o=n(0);n.n(o).a},function(t,e,n){(e=n(3)(!1)).push([t.i,"\n.scroller {\n  -webkit-overflow-scrolling: touch;\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  top: 0;\n}\n.scroller .scroll-box {\n  width: 100%;\n}\n.refresh, .loader {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  line-height: 3rem;\n  color: #666;\n}\n.refresh {\n  position: absolute;\n  width: 100%;\n}\n.scroller svg {\n  will-change: transform;\n  margin-right: .5rem;\n  height: 1rem;\n  width: 1rem;\n  fill: #666;\n}\n.refresh svg.icon-arrow {\n  transform: rotate(180deg);\n  transition: .2s;\n}\n",""]),t.exports=e},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",o=t[3];if(!o)return n;if(e&&"function"==typeof btoa){var i=(s=o,a=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(c," */")),r=o.sources.map((function(t){return"/*# sourceURL=".concat(o.sourceRoot).concat(t," */")}));return[n].concat(r).concat([i]).join("\n")}var s,a,c;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var o=0;o<t.length;o++){var i=[].concat(t[o]);n&&(i[2]?i[2]="".concat(n," and ").concat(i[2]):i[2]=n),e.push(i)}},e}},function(t,e,n){"use strict";n.r(e);var o,i,r,s,a,c,l,f,u,d={data:function(){return{loadingState:1,diff:0,beforeDiff:0,topLoadMethod:!1,topBlockHeight:50,startY:0,startScrollTop:0,distance:0,refreshText:"下拉刷新",state:"",triggerDistance:70,parentnode:!1}},props:{onRefresh:Function,onInfinite:Function,noDataText:{type:String,default:"没有更多数据"}},computed:{iconLink:function(){switch(this.state){case"loading":case"finish":return"#icon-"+this.state}return"#icon-pull"}},mounted:function(){this.init(),this.topLoadMethod=!!this.onRefresh,this.topLoadMethod&&(this.$refs.box.addEventListener("touchstart",this.touchstart),this.$refs.box.addEventListener("touchmove",this.touchmove),this.$refs.box.addEventListener("touchend",this.touchend))},methods:{init:(o=function(){if(this.onInfinite){var t=this.$refs.scroller,e=this.$refs.loader;0!==this.loadingState&&2!==this.loadingState&&3!==this.loadingState&&(t.clientHeight>e.offsetTop?(this.loadingState=2,this.onInfinite(this.finishInfinite),this.init()):t.scrollTop+t.clientHeight-e.clientHeight>e.offsetTop-50&&(this.loadingState=2,this.onInfinite(this.finishInfinite)))}},i=300,u=function t(){var e=Date.now()-l;e<i&&e>=0?s=setTimeout(t,i-e):(s=null,r||(f=o.apply(c,a),s||(c=a=null)))},function(){c=this,a=arguments,l=Date.now();var t=r&&!s;return s||(s=setTimeout(u,i)),t&&(f=o.apply(c,a),c=a=null),f}),finishInfinite:function(t){console.log(t);var e=1;switch(t){case"end":e=0;break;case"error":e=3;break;default:e=1}this.loadingState=e},reload:function(){this.loadingState=1,this.$refs.scroller.scrollTop=0,this.init()},scroll:function(){this.init()},scrollTo:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;this.$refs.box.style.transition="".concat(n,"ms"),this.diff=t,setTimeout((function(){e.$refs.box.style.transition=""}),n)},findParent:function(t){t.className.indexOf("no_scroll")>-1?this.parentnode=!0:(this.parentnode=!1,"body"!=t.parentNode.nodeName.toLowerCase()&&this.findParent(t.parentNode))},touchstart:function(t){this.startY=t.touches[0].clientY,this.beforeDiff=this.diff,this.startScrollTop=this.$refs.scroller.scrollTop,this.state="pull",this.refreshText="下拉刷新",this.topLoadMethod=!1},touchmove:function(t){this.findParent(t.target),this.parentnode||(this.currentY=t.touches[0].clientY,this.distance=(this.currentY-this.startY)/2+this.beforeDiff,this.startScrollTop<2&&this.distance>0&&(this.topLoadMethod=!0,t.preventDefault(),t.stopPropagation(),this.diff=this.distance,this.distance>this.triggerDistance?(this.state="trigger",this.refreshText="放手刷新"):(this.state="pull",this.refreshText="下拉刷新")))},touchend:function(){var t=this;this.topLoadMethod&&(this.diff<this.triggerDistance?this.scrollTo(0):(this.state="loading",this.scrollTo(this.topBlockHeight),this.onRefresh((function(){t.refreshText="加载完成",t.state="finish",setTimeout((function(){t.scrollTo(0),t.reload()}),400)})),this.refreshText="加载中..."))}},components:{}};n(1);var h=function(t,e,n,o,i,r,s,a){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),o&&(l.functional=!0),r&&(l._scopeId="data-v-"+r),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):i&&(c=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(l.functional){l._injectStyles=c;var f=l.render;l.render=function(t,e){return c.call(e),f(t,e)}}else{var u=l.beforeCreate;l.beforeCreate=u?[].concat(u,c):[c]}return{exports:t,options:l}}(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"scroller",staticClass:"scroller",on:{scroll:function(e){return t.scroll(e.target)}}},[n("svg",{staticStyle:{display:"none"}},[n("symbol",{attrs:{id:"icon-finish",viewBox:"0 0 1024 1024"}},[n("path",{attrs:{d:"M980.293 311.85c-25.697-60.751-62.485-115.314-109.345-162.17-46.858-46.865-101.425-83.653-162.173-109.342-62.89-26.606-129.708-40.094-198.587-40.094-68.881 0-135.697 13.488-198.585 40.093-60.753 25.695-115.316 62.482-162.178 109.342-46.86 46.858-83.642 101.421-109.345 162.17-26.599 62.893-40.082 129.706-40.082 198.588 0 68.879 13.483 135.694 40.082 198.588 25.703 60.747 62.485 115.308 109.349 162.171 46.858 46.86 101.421 83.644 162.173 109.347 62.893 26.596 129.703 40.084 198.585 40.084 68.883 0 135.697-13.485 198.588-40.084 60.747-25.703 115.316-62.485 162.173-109.347 46.86-46.863 83.647-101.421 109.345-162.171 26.596-62.893 40.084-129.709 40.084-198.588-0.001-68.88-13.486-135.694-40.085-198.587zM916.764 682.151c-22.221 52.533-54.044 99.723-94.586 140.273-40.545 40.545-87.742 72.369-140.275 94.586-54.338 22.986-112.115 34.639-171.713 34.639-59.601 0-117.379-11.653-171.715-34.639-52.533-22.218-99.723-54.039-140.275-94.589-40.545-40.538-72.364-87.737-94.583-140.27-22.988-54.343-34.639-112.115-34.639-171.713 0-59.601 11.651-117.374 34.634-171.715 22.225-52.537 54.046-99.728 94.589-140.273 40.553-40.547 87.742-72.375 140.275-94.586 54.343-22.986 112.115-34.636 171.715-34.636 59.598 0 117.37 11.651 171.713 34.636 52.533 22.213 99.723 54.039 140.275 94.583 40.545 40.553 72.367 87.739 94.586 140.27 22.986 54.348 34.639 112.121 34.639 171.722 0 59.598-11.654 117.37-34.64 171.713zM749.188 378.978c-9.597 0-18.618 3.733-25.426 10.543l-261.919 260.34-164.428-164.653c-6.791-6.791-15.814-10.527-25.413-10.527-9.597 0-18.612 3.735-25.391 10.527-14.009 14.002-14.009 36.798-0.044 50.769 19.331 19.143 38.675 38.277 57.985 57.453 31.71 31.475 63.614 62.761 95.277 94.283 5.942 5.907 11.862 11.826 17.87 17.658 13.483 13.090 25.054 33.082 46.364 32.429 14.87-0.454 26.158-10.765 35.459-21.331 10.662-12.11 21.049-24.035 32.475-35.485 21.988-22.034 44.097-43.954 66.085-65.984 25.941-25.993 51.846-52.034 77.806-78.002 21.828-21.83 43.68-43.643 65.482-65.501 10.549-10.58 21.030-21.241 31.659-31.744 0.166-0.166 0.347-0.325 0.515-0.494 6.914-6.919 10.841-15.844 11.044-25.132 0.204-9.23-3.348-17.978-10.004-24.634-6.78-6.785-15.802-10.516-25.393-10.516z"}})]),t._v(" "),n("symbol",{attrs:{id:"icon-loading",viewBox:"0 0 64 64"}},[n("path",{attrs:{"fill-rule":"evenodd",d:"M60 36h-8c-2.203 0-4-1.797-4-4 0-2.208 1.797-4 4-4h8c2.203 0 4 1.792 4 4 0 2.203-1.797 4-4 4zM48.973 20.686a4 4 0 0 1-5.66 0 3.995 3.995 0 0 1 0-5.655l5.66-5.653a3.99 3.99 0 0 1 5.65 0 4 4 0 0 1 0 5.655l-5.65 5.656zM32 64a4 4 0 0 1-4-4v-8a4 4 0 0 1 4-4c2.203 0 4 1.797 4 4v8c0 2.203-1.797 4-4 4zm0-48a4 4 0 0 1-4-4V4a4 4 0 1 1 8 0v8c0 2.208-1.797 4-4 4zM15.03 54.624a3.995 3.995 0 0 1-5.654 0 3.99 3.99 0 0 1 0-5.65l5.655-5.66a3.995 3.995 0 0 1 5.657 0 4.004 4.004 0 0 1 0 5.66l-5.655 5.65zm0-33.938L9.373 15.03a3.995 3.995 0 0 1 0-5.654 4 4 0 0 1 5.654 0l5.655 5.655a3.995 3.995 0 0 1 0 5.657 3.99 3.99 0 0 1-5.65 0zM16 32a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4 4 4 0 0 1 4-4h8a4 4 0 0 1 4 4zm32.973 11.314l5.65 5.66a3.99 3.99 0 0 1 0 5.65 3.992 3.992 0 0 1-5.65 0l-5.66-5.65a4 4 0 0 1 0-5.66 4 4 0 0 1 5.66 0z"}},[n("animateTransform",{attrs:{attributeName:"transform",begin:"0s",dur:"1.2s",type:"rotate",from:"0 32 32",to:"360 32 32",repeatCount:"indefinite"}})],1)]),t._v(" "),n("symbol",{attrs:{id:"icon-pull",viewBox:"0 0 1024 1024"}},[n("path",{attrs:{d:"M793.036 736.931l-248.058 248.058c-4.425 5.631-10.156 10.054-16.992 12.567-0.502 0.1-0.803 0.202-1.106 0.202-4.022 1.809-8.446 2.411-12.87 2.614-0.602 0-1.307 0.502-1.909 0.502-1.206 0-2.213-0.803-3.419-0.803-2.614-0.202-5.228-0.803-7.844-1.71-3.116-0.803-5.934-2.113-8.746-3.518-1.71-0.906-3.317-2.114-4.928-3.317-1.409-1.106-3.219-1.609-4.525-3.116l-251.575-251.475c-16.287-16.19-16.287-42.531 0-58.522 16.090-16.19 42.433-16.19 58.722 0l180.99 180.887v-403.406c0-23.127 18.803-42.131 41.929-42.131s41.929 18.905 41.929 42.131v402.098l179.783-179.581c15.987-16.191 42.433-16.19 58.621 0 16.090 15.987 16.090 42.331 0 58.522zM512.402 302.354c-23.127 0-41.929-18.803-41.929-41.929 0-23.026 18.703-41.828 41.929-41.828 23.227 0 41.929 18.803 41.929 41.828 0.1 23.227-18.703 41.929-41.929 41.929zM512.402 106.885c-23.127 0-41.929-18.703-41.929-41.929 0-23.026 18.703-41.828 41.929-41.828 23.227 0 41.929 18.803 41.929 41.828 0.1 23.227-18.703 41.929-41.929 41.929z"}})])]),t._v(" "),n("div",{ref:"box",staticClass:"scroll-box",style:t.diff?{transform:"translate3d(0, "+t.diff+"px, 0)"}:""},[t.topLoadMethod?n("div",{staticClass:"refresh",style:{height:t.topBlockHeight+"px",top:"-"+t.topBlockHeight+"px"}},[n("svg",{staticClass:"icon",class:{"icon-arrow":"trigger"===t.state,"icon-loading":"loading"===t.state}},[n("use",{attrs:{"xlink:href":t.iconLink}})]),t._v("\n      "+t._s(t.refreshText)+"\n    ")]):t._e(),t._v(" "),n("div",{staticClass:"scroll-container"},[t._t("default")],2),t._v(" "),t.onInfinite?n("div",{ref:"loader",staticClass:"loader"},[0===t.loadingState?[t._v("加载完成")]:3===t.loadingState?n("p",{on:{click:function(e){(t.loadingState=1)&&t.init()}}},[t._v("加载失败，点击重试")]):[n("svg",[n("use",{attrs:{"xlink:href":"#icon-loading"}})]),t._v("\n        加载中...\n      ")]],2):t._e()])])}),[],!1,null,null,null).exports;function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var v={install:function t(e){t.installed||(t.installed=!0,e.component("pullInfiniteScroller",h))},Scroller:h};void 0!==("undefined"==typeof window?"undefined":p(window))&&window.Vue&&window.Vue.use(v)},function(t,e,n){"use strict";function o(t,e){for(var n=[],o={},i=0;i<e.length;i++){var r=e[i],s=r[0],a={id:t+":"+i,css:r[1],media:r[2],sourceMap:r[3]};o[s]?o[s].parts.push(a):n.push(o[s]={id:s,parts:[a]})}return n}n.r(e),n.d(e,"default",(function(){return p}));var i="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var r={},s=i&&(document.head||document.getElementsByTagName("head")[0]),a=null,c=0,l=!1,f=function(){},u=null,d="data-vue-ssr-id",h="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(t,e,n,i){l=n,u=i||{};var s=o(t,e);return v(s),function(e){for(var n=[],i=0;i<s.length;i++){var a=s[i];(c=r[a.id]).refs--,n.push(c)}e?v(s=o(t,e)):s=[];for(i=0;i<n.length;i++){var c;if(0===(c=n[i]).refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete r[c.id]}}}}function v(t){for(var e=0;e<t.length;e++){var n=t[e],o=r[n.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](n.parts[i]);for(;i<n.parts.length;i++)o.parts.push(m(n.parts[i]));o.parts.length>n.parts.length&&(o.parts.length=n.parts.length)}else{var s=[];for(i=0;i<n.parts.length;i++)s.push(m(n.parts[i]));r[n.id]={id:n.id,refs:1,parts:s}}}}function g(){var t=document.createElement("style");return t.type="text/css",s.appendChild(t),t}function m(t){var e,n,o=document.querySelector("style["+d+'~="'+t.id+'"]');if(o){if(l)return f;o.parentNode.removeChild(o)}if(h){var i=c++;o=a||(a=g()),e=x.bind(null,o,i,!1),n=x.bind(null,o,i,!0)}else o=g(),e=S.bind(null,o),n=function(){o.parentNode.removeChild(o)};return e(t),function(o){if(o){if(o.css===t.css&&o.media===t.media&&o.sourceMap===t.sourceMap)return;e(t=o)}else n()}}var y,b=(y=[],function(t,e){return y[t]=e,y.filter(Boolean).join("\n")});function x(t,e,n,o){var i=n?"":o.css;if(t.styleSheet)t.styleSheet.cssText=b(e,i);else{var r=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(r,s[e]):t.appendChild(r)}}function S(t,e){var n=e.css,o=e.media,i=e.sourceMap;if(o&&t.setAttribute("media",o),u.ssrId&&t.setAttribute(d,e.id),i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}}])}));
//# sourceMappingURL=vue-infinite-scroller.min.js.map